<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Regression: Evaluation & Assumptions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #1e293b; }
        .card { background-color: white; border-radius: 1rem; padding: 2rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); display: flex; flex-direction: column; }
        .math-box { background-color: #f1f5f9; border-left: 4px solid #16a34a; padding: 1rem 1.5rem; border-radius: 0.5rem; font-family: 'ui-monospace', 'SFMono-Regular', Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 1rem; overflow-x: auto; color: #1e293b; }
        .highlight { background: linear-gradient(to right, #16a34a, #65a30d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; }
        .text-r-squared { color: #15803d; }
        .text-mae { color: #0284c7; }
        .text-rmse { color: #c026d3; }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold mb-2">
                Is My Model Any Good? <span class="highlight">Evaluation & Assumptions</span>
            </h1>
            <p class="text-lg text-gray-500">The final and most important step in the Linear Regression workflow.</p>
        </header>

        <div class="grid grid-cols-1 gap-8">
            
            <div class="card">
                <h2 class="text-3xl font-bold mb-4">Beyond the Cost Function: How We Evaluate</h2>
                <p class="mb-4 text-gray-600">So far, we've used Mean Squared Error (MSE) as our <strong>Cost Function</strong>. Its job was to guide the Gradient Descent algorithm to the bottom of the error valley. It's a great tool for training, but it's not very easy for humans to interpret. (Is an MSE of 5,834 good or bad?).</p>
                <p class="mb-4 text-gray-600">To judge the final quality of our model, we use <strong>Evaluation Metrics</strong>. These are specifically designed to be interpretable and to give us a clear story about our model's performance.</p>
            </div>

            <div class="card">
                <h2 class="text-3xl font-bold mb-4">Key Regression Metrics</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                     <div class="p-4 rounded-lg bg-green-50 border border-green-200">
                        <h3 class="text-xl font-bold mb-2 text-r-squared">R-Squared (R²)</h3>
                        <p class="mb-4 text-sm text-gray-600">This is the most important regression metric. It tells you the <strong>proportion of the variance in the outcome that your model can explain</strong>. It's a score between 0 and 1.</p>
                        <div class="math-box text-sm">R² = 1 - (Σ(yᵢ - ŷᵢ)² / Σ(yᵢ - ȳ)²)</div>
                        <ul class="mt-4 space-y-2 text-xs">
                           <li><strong><code>yᵢ</code></strong>: The <em>actual</em> value for the i-th data point.</li>
                           <li><strong><code>ŷᵢ</code></strong> (y-hat): The <em>predicted</em> value for the i-th data point from your model.</li>
                           <li><strong><code>ȳ</code></strong> (y-bar): The <em>mean (average)</em> of all the actual y values.</li>
                           <li><strong><code>Σ(yᵢ - ŷᵢ)²</code></strong>: The sum of squared errors of your model (the part MSE measures).</li>
                           <li><strong><code>Σ(yᵢ - ȳ)²</code></strong>: The total sum of squares. This represents the error you would have if you just guessed the average value every time.</li>
                        </ul>
                     </div>
                      <div class="p-4 rounded-lg bg-sky-50 border border-sky-200">
                        <h3 class="text-xl font-bold mb-2 text-mae">Mean Absolute Error (MAE)</h3>
                        <p class="mb-4 text-sm text-gray-600">This metric answers the simple question: "On average, how far off were our predictions?" It's the average of the absolute differences between the predicted values and the actual values. It's easy to understand because it's in the same units as your outcome variable.</p>
                        <div class="math-box text-sm">MAE = (1/n) * Σ |yᵢ - ŷᵢ|</div>
                        <ul class="mt-4 space-y-2 text-xs">
                           <li><strong><code>n</code></strong>: The total number of data points.</li>
                           <li><strong><code>Σ</code></strong>: The symbol for summing up.</li>
                           <li><strong><code>|yᵢ - ŷᵢ|</code></strong>: The absolute error for a single point (we take the absolute value to make it positive).</li>
                        </ul>
                     </div>
                     <div class="p-4 rounded-lg bg-fuchsia-50 border border-fuchsia-200">
                        <h3 class="text-xl font-bold mb-2 text-rmse">Root Mean Squared Error (RMSE)</h3>
                        <p class="mb-4 text-sm text-gray-600">This is the square root of the MSE we used for training. Taking the square root brings the error back into the same units as the outcome variable (like MAE). However, because it squares the errors before averaging, it punishes large errors much more severely than MAE does.</p>
                         <div class="math-box text-sm">RMSE = √[(1/n) * Σ (yᵢ - ŷᵢ)²]</div>
                         <ul class="mt-4 space-y-2 text-xs">
                           <li><strong><code>√[...]</code></strong>: The square root of the entire expression.</li>
                           <li><strong><code>(yᵢ - ŷᵢ)²</code></strong>: The squared error for a single point. This is what gives large errors a disproportionately high penalty.</li>
                        </ul>
                     </div>
                </div>
            </div>

            <div class="card">
                <h2 class="text-3xl font-bold mb-4">The Rules of the Game: Assumptions of Linear Regression</h2>
                <p class="mb-4 text-gray-600">A linear regression model is only reliable if the data you give it follows some basic rules, known as <strong>assumptions</strong>. If these assumptions are violated, your model might give you misleading or completely incorrect results. Checking these is a vital step for any serious data analyst.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">1. Linearity</h3>
                        <p class="text-sm mb-2 text-gray-600">The relationship between the features and the outcome must be linear. If the true relationship is a curve, your straight line will be a poor fit.</p>
                        <canvas id="linearityChart"></canvas>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">2. Homoscedasticity</h3>
                        <p class="text-sm mb-2 text-gray-600">The "scatter" of the errors (residuals) should be constant across all values of the features. Violation of this is called <strong>Heteroscedasticity</strong> (a fan or cone shape in the residual plot).</p>
                        <canvas id="homoscedasticityChart"></canvas>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <h3 class="text-lg font-bold mb-2">3. Normality of Errors</h3>
                        <p class="text-sm mb-2 text-gray-600">The errors should be normally distributed (a bell curve). If they are not, it can suggest that there are other patterns in the data that your model is failing to capture.</p>
                        <canvas id="normalityChart"></canvas>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                         <h3 class="text-lg font-bold mb-2">4. Independence of Errors</h3>
                        <p class="text-sm mb-2 text-gray-600">The errors should be independent of each other. A violation (called <strong>autocorrelation</strong>) often occurs in time-series data, where one error influences the next.</p>
                        <canvas id="independenceChart"></canvas>
                    </div>
                </div>
            </div>
            
             <div class="card">
                <h2 class="text-3xl font-bold mb-4">Finally: Interpreting the Coefficients</h2>
                <p class="mb-4 text-gray-600">Once you have a model that you've evaluated and for which you've checked the assumptions, you can confidently interpret its coefficients. The coefficients tell the story of how your features relate to the outcome.</p>
                <p class="mb-4 text-gray-600">For a model predicting house prices with a feature for "size in square feet":</p>
                <div class="math-box"><code>Predicted Price = 50,000 + 250 * Size</code></div>
                <ul>
                    <li class="mt-4">The intercept (<strong><code>θ₀ = 50,000</code></strong>) means that the baseline predicted price for a house of 0 square feet is $50,000. (This often isn't directly interpretable in the real world, but is a necessary part of the line).</li>
                    <li class="mt-2">The slope (<strong><code>θ₁ = 250</code></strong>) is the most important part. It means: "Holding all other features constant, for every one-unit increase in size (1 sq ft), we predict the house price will increase by $250."</li>
                </ul>
            </div>

        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const commonOptions = { plugins: { legend: { display: false } }, scales: { x: { display: false }, y: { display: false } } };
        const goodColor = 'rgba(22, 163, 74, 0.7)';
        const badColor = 'rgba(220, 38, 38, 0.7)';

        // --- Chart for Linearity ---
        new Chart(document.getElementById('linearityChart').getContext('2d'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Good (Linear)',
                    data: [{x:1,y:1.2},{x:2,y:1.9},{x:3,y:3.1},{x:4,y:4.2},{x:5,y:4.8}],
                    backgroundColor: goodColor
                },{
                    label: 'Bad (Non-Linear)',
                    data: [{x:1,y:4.8},{x:2,y:2.5},{x:3,y:1.2},{x:4,y:2.2},{x:5,y:4.9}],
                    backgroundColor: badColor
                }]
            },
            options: commonOptions
        });

        // --- Chart for Homoscedasticity ---
        new Chart(document.getElementById('homoscedasticityChart').getContext('2d'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Good (Homoscedastic)',
                    data: [{x:1,y:1.1},{x:1,y:-1.2},{x:2,y:0.8},{x:2,y:-0.9},{x:3,y:1.3},{x:3,y:-1.1},{x:4,y:0.9},{x:4,y:-1.2}],
                    backgroundColor: goodColor
                },{
                    label: 'Bad (Heteroscedastic)',
                    data: [{x:1,y:0.2},{x:1,y:-0.3},{x:2,y:0.5},{x:2,y:-0.4},{x:3,y:1.1},{x:3,y:-0.9},{x:4,y:2.1},{x:4,y:-1.8}],
                    backgroundColor: badColor
                }]
            },
            options: commonOptions
        });

        // --- Chart for Normality ---
        const normalityCtx = document.getElementById('normalityChart').getContext('2d');
        const labels = [-3, -2.5, -2, -1.5, -1, -0.5, 0, 0.5, 1, 1.5, 2, 2.5, 3];
        new Chart(normalityCtx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Good (Normal)',
                    data: [2, 5, 15, 30, 50, 70, 80, 70, 50, 30, 15, 5, 2],
                    backgroundColor: goodColor,
                }, {
                    label: 'Bad (Skewed)',
                    data: [80, 70, 60, 45, 30, 20, 10, 5, 2, 1, 1, 1, 1],
                    backgroundColor: badColor,
                }]
            },
            options: commonOptions
        });
        
        // --- Chart for Independence ---
        const independenceCtx = document.getElementById('independenceChart').getContext('2d');
        const timeLabels = Array.from({length: 20}, (_, i) => i + 1);
        new Chart(independenceCtx, {
            type: 'scatter',
            data: {
                labels: timeLabels,
                datasets: [{
                    label: 'Good (Independent)',
                    data: timeLabels.map(() => Math.random() * 2 - 1),
                    backgroundColor: goodColor,
                }, {
                    label: 'Bad (Autocorrelated)',
                    data: timeLabels.map((t) => Math.sin(t * 0.8) + (Math.random() - 0.5) * 0.5),
                    backgroundColor: badColor,
                }]
            },
            options: commonOptions
        });
    });
    </script>
</body>
</html>
